!function(e){"use strict";function n(){1==jQuery(".cfspzw-settings #cfspzw_use_sagepay").prop("checked")?jQuery(".cfspzw-settings .form-required-fields").each(function(){jQuery(jQuery(this)).prop("required",!0)}):jQuery(".cfspzw-settings .form-required-fields").each(function(){jQuery(jQuery(this)).removeAttr("required")})}function t(){"sandbox"==jQuery(".cfspzw-settings #cfspzw_status").val()&&1==jQuery(".cfspzw-settings #cfspzw_use_sagepay").prop("checked")?jQuery(".cfspzw-settings #cfspzw_sandbox_vendor_name, .cfspzw-settings #cfspzw_sandbox_encryption_password").prop("required",!0):jQuery(".cfspzw-settings #cfspzw_sandbox_vendor_name, .cfspzw-settings #cfspzw_sandbox_encryption_password").removeAttr("required")}function s(){"live"==jQuery(".cfspzw-settings #cfspzw_status").val()&&1==jQuery(".cfspzw-settings #cfspzw_use_sagepay").prop("checked")?jQuery(".cfspzw-settings #cfspzw_live_vendor_name, .cfspzw-settings #cfspzw_live_encryption_password").prop("required",!0):jQuery(".cfspzw-settings #cfspzw_live_vendor_name, .cfspzw-settings #cfspzw_live_encryption_password").removeAttr("required")}function r(){n(),t(),s(),jQuery("body .wp-pointer-buttons .close").trigger("click"),"live"==jQuery(".cfspzw-settings #cfspzw_status").val()&&1==jQuery(".cfspzw-settings #cfspzw_use_sagepay").prop("checked")&&(""==jQuery(".cfspzw-settings #cfspzw_live_vendor_name").val()||""==jQuery(".cfspzw-settings #cfspzw_live_encryption_password").val()?(jQuery("#sagepay-add-on-tab .ui-tabs-anchor").find("span").remove(),jQuery("#sagepay-add-on-tab .ui-tabs-anchor").append('<span class="icon-in-circle" aria-hidden="true">!</span>')):jQuery("#sagepay-add-on-tab .ui-tabs-anchor").find("span").remove()),"sandbox"==jQuery(".cfspzw-settings #cfspzw_status").val()&&1==jQuery(".cfspzw-settings #cfspzw_use_sagepay").prop("checked")&&(""==jQuery(".cfspzw-settings #cfspzw_sandbox_vendor_name").val()||""==jQuery(".cfspzw-settings #cfspzw_sandbox_encryption_password").val()?(jQuery("#sagepay-add-on-tab .ui-tabs-anchor").find("span").remove(),jQuery("#sagepay-add-on-tab .ui-tabs-anchor").append('<span class="icon-in-circle" aria-hidden="true">!</span>')):jQuery("#sagepay-add-on-tab .ui-tabs-anchor").find("span").remove()),1==jQuery(".cfspzw-settings #cfspzw_use_sagepay").prop("checked")?jQuery(".cfspzw-settings .form-required-fields").each(function(){""==jQuery.trim(jQuery(this).val())&&(jQuery("#sagepay-add-on-tab .ui-tabs-anchor").find("span").remove(),jQuery("#sagepay-add-on-tab .ui-tabs-anchor").append('<span class="icon-in-circle" aria-hidden="true">!</span>'))}):jQuery("#sagepay-add-on-tab .ui-tabs-anchor").find("span").remove()}""!=jQuery(".cfspzw-settings #cfspzw_status").val()&&1==jQuery(".cfspzw-settings #cfspzw_use_sagepay").prop("checked")&&(s(),t()),""==jQuery(".cfspzw-settings #cfspzw_amount").val()&&1==jQuery(".cfspzw-settings #cfspzw_use_sagepay").prop("checked")&&n(),jQuery(document).on("change",".cfspzw-settings #cfspzw_status",function(){s(),t()}),jQuery(document).on("change",".cfspzw-settings .enable_required",function(){n(),t(),s()}),jQuery(document).ready(function(){r()}),jQuery(document).on("click",".ui-state-default",function(){r()}),jQuery(document).on("click",'input[name="wpcf7-delete"]',function(){jQuery(".cfspzw-settings #cfspzw_sandbox_vendor_name,.cfspzw-settings #cfspzw_sandbox_encryption_password,.cfspzw-settings #cfspzw_live_vendor_name,.cfspzw-settings #cfspzw_live_encryption_password").removeAttr("required"),jQuery(".cfspzw-settings .form-required-fields").each(function(){jQuery(jQuery(this)).removeAttr("required")})}),jQuery(document).ready(function(){jQuery(".cfspzw-settings #cfspzw_status, .cfspzw-settings #cfspzw_currency, .cfspzw-settings #cfspzw_returnurl, .cfspzw-settings #cfspzw_transaction_type,.cfspzw-settings #cfspzw_apply3d,.cfspzw-settings #cfspzw_amount,.cfspzw-settings #cfspzw_quantity,.cfspzw-settings #cfspzw_cancel_returnurl").select2(),jQuery(".cfspzw-settings .form-required-fields").each(function(){jQuery(jQuery(this)).select2()})}),jQuery("#cfspzw-sandbox-vendor-name").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-sandbox-vendor-name").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.vendor_name,position:"left center"}).pointer("open")}),jQuery("#cfspzw-sandbox-encryption-password").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-sandbox-encryption-password").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.encryption_password,position:"left center"}).pointer("open")}),jQuery("#cfspzw-live-vendor-name").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-live-vendor-name").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.vendor_name,position:"left center"}).pointer("open")}),jQuery("#cfspzw-live-encryption-password").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-live-encryption-password").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.encryption_password,position:"left center"}).pointer("open")}),jQuery("#cfspzw-select-currency").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-select-currency").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.currency,position:"left center"}).pointer("open")}),jQuery("#cfspzw-amount").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-amount").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.amount,position:"left center"}).pointer("open")}),jQuery("#cfspzw-quantity").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-quantity").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.quantity,position:"left center"}).pointer("open")}),jQuery("#cfspzw-email").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-email").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.email,position:"left center"}).pointer("open")}),jQuery("#cfspzw-prefix").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-prefix").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.prefix,position:"left center"}).pointer("open")}),jQuery("#cfspzw-success-returnurl").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-success-returnurl").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.success_returnurl,position:"left center"}).pointer("open")}),jQuery("#cfspzw-cancel-returnurl").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-cancel-returnurl").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.cancel_returnurl,position:"left center"}).pointer("open")}),jQuery("#cfspzw-billing-firstnames").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-billing-firstnames").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.billing_firstnames,position:"left center"}).pointer("open")}),jQuery("#cfspzw-billing-surname").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-billing-surname").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.billing_surname,position:"left center"}).pointer("open")}),jQuery("#cfspzw-billing-address").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-billing-address").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.billing_address,position:"left center"}).pointer("open")}),jQuery("#cfspzw-billing-city").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-billing-city").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.billing_city,position:"left center"}).pointer("open")}),jQuery("#cfspzw-billing-state").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-billing-state").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.billing_state,position:"left center"}).pointer("open")}),jQuery("#cfspzw-billing-country").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-billing-country").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.billing_country,position:"left center"}).pointer("open")}),jQuery("#cfspzw-billing-zip").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-billing-zip").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.billing_zip,position:"left center"}).pointer("open")}),jQuery("#cfspzw-shipping-firstnames").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-shipping-firstnames").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.shipping_firstnames,position:"left center"}).pointer("open")}),jQuery("#cfspzw-shipping-surname").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-shipping-surname").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.shipping_surname,position:"left center"}).pointer("open")}),jQuery("#cfspzw-shipping-address").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-shipping-address").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.shipping_address,position:"left center"}).pointer("open")}),jQuery("#cfspzw-shipping-city").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-shipping-city").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.shipping_city,position:"left center"}).pointer("open")}),jQuery("#cfspzw-shipping-state").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-shipping-state").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.shipping_state,position:"left center"}).pointer("open")}),jQuery("#cfspzw-shipping-country").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-shipping-country").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.shipping_country,position:"left center"}).pointer("open")}),jQuery("#cfspzw-shipping-zip").on("mouseenter click",function(){jQuery("body .wp-pointer-buttons .close").trigger("click"),jQuery("#cfspzw-shipping-zip").pointer({pointerClass:"wp-pointer cfspzw-pointer",content:translate_string_sagepay.shipping_zip,position:"left center"}).pointer("open")})}(jQuery);